{% extends "layouts/main.html" %}

{% block pageTitle %}
    Do you currently live in the United Kingdom?
{% endblock %}

{% block beforeContent %}

    {{ super() }}

    {{ govukBackLink ({
        text: 'Back',
        href: 'javascript:history.back()'
    }) }}

{% endblock %}

{% block content %}


{% if data['fuzzy1'] == 'Other' %}
  {{ '/citizen/habitual_residency_test/simple_hrt_v6_errors/nationality_question_2.html' | redirect | safe }}
{% endif %}


<div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary">
  <h2 class="govuk-error-summary__title" id="error-summary-title">
    There is a problem
  </h2>
  <div class="govuk-error-summary__body">
    <ul class="govuk-list govuk-error-summary__list">
      <li>
        <a href="#presence">Tell us if you live in the United Kingdom or the Republic of Ireland</a>
      </li>
    </ul>
  </div>
</div>

<div class="govuk-grid-row">

        <div class="govuk-grid-column-two-thirds">


<div class="govuk-form-group--error">
  <fieldset id="presence" class="govuk-fieldset" aria-describedby="presence-hint">
    <legend class="govuk-fieldset__legend govuk-fieldset__legend--xl">
      <h1 class="govuk-fieldset__heading">
        Do you live in the United Kingdom or Ireland?
      </h1>
    </legend>
        <div id="nationality-hint" class="govuk-hint">
          Select ‘Yes’ if you currently live in England,
          Scotland, Wales, the Isle of Man, the Channel Isles or the Republic of Ireland
    </div>
        <span id="where-do-you-live-error" class="govuk-error-message">
      <span class="govuk-visually-hidden">Error:</span> Tell us if you live in the United Kingdom or the Republic of Ireland   </span>
    <div class="govuk-radios govuk-radios--inline">
      <div class="govuk-radios__item">
        <input class="govuk-radios__input" id="presence" name="presence" type="radio" value="yes">
        <label class="govuk-label govuk-radios__label" for="presence">
          Yes
        </label>
      </div>
      <div class="govuk-radios__item">
        <input class="govuk-radios__input" id="presence-2" name="presence" type="radio" value="no">
        <label class="govuk-label govuk-radios__label" for="presence-2">
          No
        </label>
      </div>
    </div>

  </fieldset>
</div>

<br>
                
<button class="govuk-button" data-module="govuk-button" onclick="check1()">
  Continue
</button>
            </form>

<script>
function check1() {
  console.log('in function')
  var radios = document.getElementsByName("presence");
  var hasSelection = false
  for (var i = 0, len = radios.length; i < len; i++) {
    if (radios[i].checked) {
      hasSelection = true;
    }
  }
  if (!hasSelection) {
    window.location.href = "/citizen/habitual_residency_test/simple_hrt_v6_errors/presence_error.html";
  } else {
    window.location.href = "/citizen/habitual_residency_test/simple_hrt_v6_errors/continue_application.html"

  }
}
</script>

        </div>

</div>

{% endblock %}
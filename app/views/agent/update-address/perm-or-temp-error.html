{% extends 'layout-agent.html' %}

{% block pageTitle %}
    Error - Permanent or Temporary
{% endblock %}

{% block beforeContent %}

    {{ super() }}

    <div class="govuk-phase-banner">
      <p class="govuk-phase-banner__content">
        <strong class="govuk-tag govuk-phase-banner__content__tag">
          beta
        </strong>
        <span class="govuk-phase-banner__text">
          This is a new service – your <a class="govuk-link" href="#">feedback</a> will help us to improve it.
        </span>
      </p>
    </div>

    <a href="javascript:history.back()" class="govuk-back-link">Back</a>

    <!-- <p style="float: right; margin-top:15px;" class="dwp-language-toggle" aria-label="Language toggle" > English | <span class="govuk-visually-hidden">Newid yr iaith ir Gymraeg</span>
      <a href="?lang=cy" class="govuk-link">Cymraeg</a> </p> -->
      
{% endblock %}

{% block content %}

{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}

<div class="govuk-error-summary" data-module="govuk-error-summary">
  <div role="alert">
    <h2 class="govuk-error-summary__title">
      There is a problem
    </h2>
    <div class="govuk-error-summary__body">
      <ul class="govuk-list govuk-error-summary__list">
        <li>
          <a href="#permanent">Select 'permanent' if the customer's new address is permanent </a>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

<div class="govuk-form-group">
<fieldset class="govuk-fieldset" aria-describedby="changed-name-hint">
<legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
<h1 class="govuk-fieldset__heading">
  Is the customer’s new address permanent or temporary?
</h1>
</legend>

<div class="govuk-radios" data-module="govuk-radios">
<div class="govuk-radios__item">
  <input class="govuk-radios__input" id="permanent" name="type" type="radio" value="true">
  <label class="govuk-label govuk-radios__label" for="permanent">
    Permanent
  </label>
  <div id="sign-in-item-hint" class="govuk-hint govuk-radios__hint">
    This is the customer's permanent address or they have lived there for 14 weeks or more.
  </div>
</div>
<div class="govuk-radios__item">
  <input class="govuk-radios__input" id="temporary" name="type" type="radio" value="false">
  <label class="govuk-label govuk-radios__label" for="temporary">
    Temporary
  </label>
  <div id="sign-in-item-hint" class="govuk-hint govuk-radios__hint">
    The customer is expecting to live at this address for less than 13 weeks.
  </div>
</div>
</div>
</fieldset>

<br>
<button class="govuk-button" value= "true" data-module="govuk-button" onclick="check()">Continue</button>
</div>

<script>
function check() {
console.log('in function')
var radios = document.getElementsByName("type");
var hasSelection = false
for (var i = 0, len = radios.length; i < len; i++) {
if (radios[i].checked) {
  hasSelection = true;
}
}
if (!hasSelection) {
window.location.href = "/agent/update-address/perm-or-temp-error.html";
} else {
      if (document.getElementById("permanent").checked) {
        window.location.href = "/agent/update-address/uk-or-international.html"
      } else {
        window.location.href = "/agent/update-address/uk-or-international-temp.html"
      }}}
</script>

<!-- {{ govukButton({
text: "Continue",
href: "/agent/update-address/address-type.html"
}) }} -->

      </form>

  </div>

</div>

{% endblock %}